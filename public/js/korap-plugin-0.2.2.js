"use strict";const cs=document.currentScript;!function(){let t={},e={create:function(){return Object.create(this)._init()},_init:function(){return this.widgetID=window.name,this.server=cs.getAttribute("data-server")||"*",this._listener=this._receiveMsg.bind(this),window.addEventListener("message",this._listener),this},sendMsg:function(t){t.originID=this.widgetID,window.parent.postMessage(t,this.server)},requestMsg:function(e,i){let n=function(){let t="";for(let e=0;e<16;e++)t+=Math.floor(16*Math.random()%16).toString(16);return"_"+t}();e._id=n,t[n]=i,this.sendMsg(e)},_receiveMsg:function(e){let i=e.data;if(i)if(i._id){let e=i._id;t[e]&&(t[e](i),delete t[e])}else this.onMessage&&this.onMessage(i)},log:function(t,e){this.sendMsg({action:"log",code:t,msg:e})},resize:function(){var t=document.documentElement,e=t.scrollHeight;t.scrollWidth>t.clientWidth&&(e+=14),this.sendMsg({action:"resize",height:e})}};window.onload=function(){window.KorAPlugin=window.KorAPlugin||e.create(),window.KorAPlugin.resize(),window.pluginit&&window.pluginit(window.KorAPlugin)}}();